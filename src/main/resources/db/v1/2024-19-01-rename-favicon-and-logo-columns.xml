<?xml version="1.1" encoding="UTF-8" standalone="no"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">

    <changeSet author="dev (generated)" id="theme-2">
        <renameColumn
                tableName="theme"
                oldColumnName="logo_url"
                newColumnName="logo_id"/>
        <renameColumn
                tableName="theme"
                oldColumnName="favicon_url"
                newColumnName="favicon_id"/>
    </changeSet>
    <changeSet author="dev (generated)" id="logo_id_foreign_key_constraint">
        <addForeignKeyConstraint
                baseTableName="theme"
                baseColumnNames="logo_id"
                referencedTableName="image"
                referencedColumnNames="guid"
                constraintName="logo_constraint"
                onDelete="CASCADE"/>
    </changeSet>
    <changeSet author="dev (generated)" id="favicon_id_foreign_key_constraint">
        <addForeignKeyConstraint
                baseTableName="theme"
                baseColumnNames="favicon_id"
                referencedTableName="image"
                referencedColumnNames="guid"
                constraintName="favicon_constraint"
                onDelete="CASCADE"/>
    </changeSet>
</databaseChangeLog>